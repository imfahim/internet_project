<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Complaint Submission</title>
</head>
<body>

<!-- Main Heading -->
<h1>Submit a Complaint</h1>

<!-- Complaint Submission Form -->
<form method="post" enctype="multipart/form-data">

    <!-- CSRF Token (Assuming Django) -->
    {% csrf_token %}

    <!-- Form Fields -->
    {{ form.as_p }}

    <!-- Form Type Selection -->
    <h2>Please carefully review all the options and select the correct form type to ensure that your complaint is directed to the appropriate team. Provide well-structured, actionable, and complete information.</h2>
    <label for="form_type">Select Form Type:</label>
    <select name="form_type" id="form_type" onchange="showFormFields()">
        <option value="bug">Report a Bug</option>
        <option value="feedback">Feedback/Complaint</option>
    </select>

    <!-- Bug Report Fields -->
    <div id="bugFields" style="display: none;">
        <label for="bug_description">Bug Description:</label>
        <textarea name="bug_description" id="bug_description" required></textarea>

        <label for="bug_email">Your Email Address:</label>
        <input type="email" name="bug_email" id="bug_email" required>

        <label for="bug_attachment">Attachment (if any):</label>
        <input type="file" name="bug_attachment" id="bug_attachment">
    </div>

    <!-- Feedback/Complaint Fields -->
    <div id="feedbackFields" style="display: none;">
        <label for="feedback">Feedback/Complaint:</label>
        <textarea name="feedback" id="feedback" required></textarea>

        <label for="feedback_email">Your Email Address:</label>
        <input type="email" name="feedback_email" id="feedback_email" required>
    </div>

    <!-- Submit Button -->
    <button type="submit">Submit Complaint</button>

</form>

<!-- JavaScript Function to Toggle Form Fields -->
<script>
    function showFormFields() {
        var select = document.getElementById("form_type");
        var bugFields = document.getElementById("bugFields");
        var feedbackFields = document.getElementById("feedbackFields");

        bugFields.style.display = (select.value === "bug") ? "block" : "none";
        feedbackFields.style.display = (select.value === "feedback") ? "block" : "none";
    }
</script>

</body>
</html>
